<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- 진선이형 추가 -->
<!-- include libraries(jQuery, bootstrap) -->
<link
	href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
	rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<!-- include summernote css/js -->
<link
	href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
<script type="text/javascript"
	th:src="@{/summerNote/lang/summernote-ko-KR.min.js}"></script>

<!-- 추가 끝 -->
<title>Food Website</title>
<link rel="stylesheet" th:href="@{/css/recifitCheck.css}">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
	integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" th:href="@{/css/문체부쓰기정체.css}">
     <link rel="short icon" th:href="@{/image/food/로고0328_3.svg}">

<script type="text/javascript">
	
	function closing(){
		
		let searchWord2 = document.querySelectorAll('input[name="searchWord"]');
		let searchWord_values=[];
		    
		searchWord2.forEach(searchWord => {
		    searchWord_values.push(searchWord.value);
		});
		
		let recipe_type = document.querySelector('input[name="recipe_type"]:checked')?document.querySelector('input[name="recipe_type"]:checked').value:'';
		
		
	    let recipe_icons= document.querySelectorAll('input[name="recipe_icon"]:checked');
	    
	    let recipe_icon_values=[];
	    
	    recipe_icons.forEach(recipe_icon=>{
	    	if(recipe_icon.checked){
	    		recipe_icon_values.push(recipe_icon.value);
	    	} //else {recipe_icon=''} 
	    });
	    
	    
	    
	    window.opener.location.href = '/recifit/recipe/recifitCheck2?searchWord_values='+searchWord_values.join(',')+ '&recipe_type='+recipe_type+'&recipe_icon_values=' + recipe_icon_values.join(',');
		 
		this.close();
	}
	
	const add_textbox = () => {
        const box = document.getElementById("box");
        const newP = document.createElement('p');
        newP.innerHTML = "<input type='text' name='searchWord'> <input type='button' value='삭제' onclick='remove(this)'>";
        box.appendChild(newP);
    }
    const remove = (obj) => {
        document.getElementById('box').removeChild(obj.parentNode);
    }
	
</script>
<style>
  /* 요리 이름에 대한 스타일 */
  p {
    font-weight: bold;
  }
</style>
</head>
<body>
	<div class="mama">
		<!--Oder-->
		<form method="get" id="recommend">

			<div class="oder">
				<div class="oder_main">
					<div class="oder_form">
						<div class="oder_list">

							<div>
								<b><P style=" text-align: center;">맞춤레시피 찾기</P></b>
								<b><p>키워드</p></b>
								<div id="box">
									<b><input type="text" name="searchWord"
										placeholder="감자 닭고기 미역국..."> <input type="button"
										value="추가" onclick="add_textbox()"></b>
								</div>


								<b><p>분류</p></b>
							<table>
								<tr>
									<td width="150px" height="100px"><label><input
											type="radio" name="recipe_type" value="한식" checked="checked"></label> <img th:src="@{/image/food/한식.svg}"></td>
									<td width="150px" height="100px"><label><input
											type="radio" name="recipe_type" value="양식"> </label> <img
										th:src="@{/image/food/양식.svg}"></td>
									<td width="150px" height="100px"><label><input
											type="radio" name="recipe_type" value="일식"> </label> <img
										th:src="@{/image/food/일식.svg}"></td>
								</tr>
								<tr>
									<td width="150px" height="100px"><label><input
											type="radio" name="recipe_type" value="중식"> </label> <img
										th:src="@{/image/food/중식.svg}"></td>
									<td width="150px" height="100px"><label><input
											type="radio" name="recipe_type" value="아시안식"></label> <img
										th:src="@{/image/food/아시아식.svg}"></td>
									<td width="150px" height="100px"><label><input
											type="radio" name="recipe_type" value="디저트"> </label> <img
										th:src="@{/image/food/디저트.svg}"></td>
								</tr>
							</table>
							<br> <p>이런 사람에게 추천해요.</p>
							<table>
								<tr>
									<td width="120px" height="100px" ><label><input
											type="checkbox" name="recipe_icon" value="모두다"> </label> <img
										th:src="@{/image/food/All.svg}"></td>
									<td width="120px" height="100px"><label><input
											type="checkbox" name="recipe_icon" value="고추" checked="checked"> </label> <img th:src="@{/image/food/매운음식.svg}"></td>
									<td width="120px" height="100px"><label><input
											type="checkbox" name="recipe_icon" value="다이어트"> </label> <img
										th:src="@{/image/food/다이어트.svg}"></td>
									<td width="120px" height="100px"><label><input
											type="checkbox" name="recipe_icon" value="이유식"> </label> <img
										th:src="@{/image/food/어린이가능.svg}"></td>
									<td width="120px" height="100px"><label><input
											type="checkbox" name="recipe_icon" value="간단요리"> </label> <img
										th:src="@{/image/food/누구나.svg}"></td>
								</tr>

								</table>
							</div>

						</div>
						<input type="button" value="찾기" class="oder_btn" onclick="closing()">
					</div>
				</div>
			</div>

		</form>
</body>
</html>